(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{165:function(e,t,a){e.exports=a(189)},170:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n,r,c,i,l,o,s=a(0),u=a.n(s),m=a(16),d=a.n(m),p=(a(170),a(10)),f=a.n(p),E=a(19),b=a(7),v=a(26),g=a(39),h=a(139),y=a(256),O=a(227),j=a(258),C=a(231),x=a(72),S=a(226),k=a(23),w=a(17),N=a.n(w),A=a(97),T=function(e){var t=e.children,a=I();return u.a.createElement(A.a,{className:a.padding},t)},I=Object(S.a)((function(e){return{padding:{padding:e.spacing(5),width:500}}})),L=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),c=Object(b.a)(r,2),i=c[0],l=c[1],o=Object(s.useState)(""),m=Object(b.a)(o,2),d=m[0],p=m[1],v=D(),g=function(){var e=Object(E.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(""),e.prev=2,e.next=5,N.a.auth().signInWithEmailAndPassword(a,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),p(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(T,null,u.a.createElement("form",{onSubmit:function(e){return g(e)},className:v.form},u.a.createElement("img",{alt:"",className:v.logo,src:"".concat("","/logo.png")}),u.a.createElement(O.a,{container:!0,direction:"column",alignItems:"stretch",spacing:4},u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{type:"email",error:!!d,fullWidth:!0,value:a,onChange:function(e){return n(e.target.value)},label:"email",variant:"outlined"})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{fullWidth:!0,error:!!d,type:"password",label:"password",value:i,onChange:function(e){return l(e.target.value)},variant:"outlined",helperText:u.a.createElement(O.a,{item:!0},u.a.createElement(k.a,{to:"/forgot-password"},"Forgot Password"))})),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{type:"submit",disabled:!a||!i,fullWidth:!0,variant:"contained",color:"primary"},"Login")),u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,null,"Dont have an account?")),u.a.createElement(O.a,{item:!0},u.a.createElement(k.a,{to:"/create-account"},"Create account"))),d&&u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{color:"error"},d)))))},D=Object(S.a)((function(e){return{title:{alignSelf:"center"},logo:{height:70,marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",alignItems:"center"}}})),P=Object(s.createContext)(null),R=a(13),z=a(192),W=a(239),M=a(115),B=a.n(M),F=a(232),q=a(233),U=a(234),H=a(235),V=a(236),G=a(259);!function(e){e.inProgress="In Progress",e.finalized="Finalized",e.cancelled="Cancelled",e.hold="Hold"}(n||(n={})),function(e){e.lienSearch="Lien Search",e.estoppelLetter="Estoppel Letter",e.landSurvey="Land Survey",e.permitResolution="Permit Resolution"}(r||(r={})),function(e){e.newOrder="New Order",e.hold="Hold",e.informationRequested="Information Requested",e.informationReceived="Information Received",e.pendingPayment="Pending Payment",e.cancelled="Cancelled",e.finalized="Finalized"}(c||(c={})),function(e){e.address1="Address 1",e.address2="Address 2",e.unit="Unit",e.city="City",e.state="State",e.zipCode="Zip Code"}(i||(i={})),function(e){e.orderNumber="Order # / File Name",e.folio="Folio",e.legalDescription="Legal Description",e.seller="Seller",e.buyer="Buyer",e.listingAgent="Listing Agent",e.listingAgentPhone="Listing Agent Phone",e.specialInstructions="Special Instructions"}(l||(l={})),function(e){e.lenderCertification="Lender Certification",e.buyerCertification="Buyer Certification",e.underwriterCertification="Underwriter Certification",e.titleCompany="Title Company",e.hardCopy="Request Hard Copy"}(o||(o={}));var K={isActive:!1,status:"newOrder",assignee:"",estimatedDelivery:""},_={lienSearch:Object(R.a)({},K),estoppelLetter:Object(R.a)({},K),landSurvey:Object(R.a)({},K),permitResolution:Object(R.a)({},K)},X=function(e){var t=e.status,a=e.size,r=Y(void 0===a?"big":a)();return u.a.createElement(G.a,{className:"".concat(r.container," ").concat(r[t])},u.a.createElement(x.a,null,n[t]))},Y=function(e){return Object(S.a)((function(t){return{inProgress:{backgroundColor:t.palette.info.main},finalized:{backgroundColor:t.palette.success.main},cancelled:{backgroundColor:t.palette.error.main},hold:{backgroundColor:t.palette.warning.main},container:{padding:"small"===e?t.spacing(.5,1):t.spacing(1,2),borderRadius:t.shape.borderRadius,color:"white",display:"inline-block"}}}))},$=["Order # / File Name","Address","Folio","Status","Created"],J=function(e){var t=e.orders;return u.a.createElement(A.a,null,u.a.createElement(F.a,null,u.a.createElement(q.a,null,u.a.createElement(U.a,null,$.map((function(e,t){return u.a.createElement(H.a,{key:"header".concat(t)},e)})))),u.a.createElement(V.a,null,t.map((function(e,t){return u.a.createElement(Z,Object.assign({key:"order-".concat(t)},{order:e}))})))))},Z=function(e){var t=e.order,a=Object(v.g)(),n=Q();return u.a.createElement(U.a,{onClick:function(){return e=t.objectID,void a.push("/order/".concat(e));var e},hover:!0,className:n.pointer},u.a.createElement(H.a,null,t.orderNumber||"--"),u.a.createElement(H.a,null,t.address.address1||"--"),u.a.createElement(H.a,null,t.folio||"--"),u.a.createElement(H.a,null,u.a.createElement(X,{size:"small",status:t.status})),u.a.createElement(H.a,null,new Date(t.created_on).toLocaleString()||"--"))},Q=Object(S.a)((function(){return{container:{width:"80vw"},pointer:{cursor:"pointer"}}})),ee=a(94),te=a.n(ee),ae=function(e){var t=e.value,a=e.setValue;return u.a.createElement(O.a,{item:!0,container:!0,spacing:1,alignItems:"flex-end"},u.a.createElement(O.a,{item:!0},u.a.createElement(te.a,{color:"disabled"})),u.a.createElement(O.a,{item:!0,xs:9},u.a.createElement(j.a,Object.assign({InputProps:{disableUnderline:!0},fullWidth:!0},{value:t},{onChange:function(e){return a(e.target.value)},placeholder:"Search by address, zip code, status, or folio..."}))))},ne=a(38),re=function(e){var t=e.imageFile,a=e.title,n=e.description,r=e.button,c=e.width,i=ce();return u.a.createElement(O.a,{item:!0,container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},u.a.createElement(O.a,{item:!0},u.a.createElement("img",{style:c?{maxWidth:c}:void 0,className:i.image,src:"".concat("","/Illustrations/").concat(t),alt:""})),u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},a)),n&&u.a.createElement(O.a,{item:!0,xs:8},u.a.createElement(x.a,{align:"center",variant:"body2"},n)),r&&u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{"data-test":"button_emptyCreate",disabled:r.disabled,color:"primary",size:"large",variant:"contained",onClick:r.onClick},r.text)))},ce=Object(S.a)((function(e){return{image:{maxWidth:"350px",fill:e.palette.primary.main}}})),ie=a(117),le=a.n(ie),oe=a(237),se=a(45),ue=a.n(se),me=function(e){var t=e.open,a=e.onClose,n=e.content,r=de(),c=u.a.createElement(O.a,{container:!0,direction:"column",className:r.container,spacing:2},u.a.createElement(O.a,{container:!0,item:!0,justify:"space-between",alignItems:"center"},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h5"},"Modify Order")),u.a.createElement(O.a,{item:!0},u.a.createElement(z.a,{onClick:a},u.a.createElement(ue.a,null)))),u.a.createElement(O.a,{item:!0},n));return u.a.createElement(oe.a,Object.assign({anchor:"right"},{open:t},{onClose:a}),c)},de=Object(S.a)((function(e){return{container:{padding:e.spacing(2,5),width:400}}})),pe=a(238),fe=function(e){var t=e.orderType,a=e.setOrderType;return u.a.createElement(j.a,{label:"Order Type",select:!0,value:t,variant:"outlined",fullWidth:!0,size:"small",onChange:function(e){return a(e.target.value)}},u.a.createElement(pe.a,{value:""},"All"),Object.keys(r).map((function(e,t){return u.a.createElement(pe.a,{key:"".concat(t,"-").concat(e),value:e},r[e])})))},Ee=function(e){var t=e.orgId,a=e.setOrgId,n=Object(s.useState)([]),r=Object(b.a)(n,2),c=r[0],i=r[1],l=Object(s.useContext)(P),o=N.a.firestore();return Object(s.useEffect)((function(){(null===l||void 0===l?void 0:l.admin)&&o.collection("organizations").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(R.a)({id:e.id},e.data()))})),i(t)})).catch((function(e){return console.log(e)}))}),[l,o]),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{label:"Organization",select:!0,variant:"outlined",fullWidth:!0,value:t,size:"small",onChange:function(e){return a(e.target.value)}},u.a.createElement(pe.a,{value:""},"All"),c.map((function(e,t){return u.a.createElement(pe.a,{key:"status-".concat(t),value:e.id},e.name)}))))},be=function(e){var t=e.status,a=e.setStatus,r=e.withLabel;return u.a.createElement(j.a,{label:r?"Status":void 0,select:!0,value:t,variant:"outlined",fullWidth:!0,size:"small",onChange:function(e){return a(e.target.value)}},u.a.createElement(pe.a,{value:""},"All"),Object.keys(n).map((function(e,t){return u.a.createElement(pe.a,{key:"".concat(t,"-").concat(e),value:e},n[e])})))},ve=function(e){var t=e.currentAssignee,a=e.setCurrentAssignee,n=Object(s.useState)([]),r=Object(b.a)(n,2),c=r[0],i=r[1],l=Object(s.useContext)(P),o=N.a.firestore();return Object(s.useEffect)((function(){(null===l||void 0===l?void 0:l.admin)&&o.collection("employees").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(R.a)({},e.data()))})),i(t)})).catch((function(e){return console.log(e)}))}),[l,o]),u.a.createElement(j.a,{label:"Assigned Employee",select:!0,variant:"outlined",size:"small",fullWidth:!0,value:t,onChange:function(e){return a(e.target.value)}},u.a.createElement(pe.a,{value:""},"All"),c.map((function(e,t){return u.a.createElement(pe.a,{key:"status-".concat(t),value:e.email},e.email)})))},ge=function(e){var t,a,n=e.open,r=e.onClose,c=e.filters,i=c.status,l=c.organizations,o=c.orderType,m=c.employee,d=Object(s.useState)(i.value),p=Object(b.a)(d,2),f=p[0],E=p[1],v=Object(s.useState)(null!==(t=null===l||void 0===l?void 0:l.value)&&void 0!==t?t:""),g=Object(b.a)(v,2),h=g[0],y=g[1],j=Object(s.useState)(null!==(a=null===m||void 0===m?void 0:m.value)&&void 0!==a?a:""),S=Object(b.a)(j,2),k=S[0],w=S[1],N=Object(s.useState)(o.value),A=Object(b.a)(N,2),T=A[0],I=A[1],L=u.a.createElement(O.a,{container:!0,spacing:3,direction:"column"},i&&u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},"Order Status")),u.a.createElement(O.a,{item:!0},u.a.createElement(be,{status:f,setStatus:E,withLabel:!0}))),l&&u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},"Organization")),u.a.createElement(O.a,{item:!0},u.a.createElement(Ee,{orgId:h,setOrgId:y}))),m&&u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},"Employee Assigned")),u.a.createElement(O.a,{item:!0},u.a.createElement(ve,{currentAssignee:k,setCurrentAssignee:w}))),o&&u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},"Order Type")),u.a.createElement(O.a,{item:!0},u.a.createElement(fe,{orderType:T,setOrderType:I}))),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{fullWidth:!0,size:"small",variant:"contained",color:"primary",onClick:function(){i.setter(f),o.setter(T),l&&l.setter(h),m&&m.setter(k)}},"Apply Filters")),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{fullWidth:!0,size:"small",variant:"outlined",onClick:function(){Object(ne.forOwn)(c,(function(e){return e&&e.setter("")})),y(""),E(""),I(""),w("")}},"Clear Filters")));return u.a.createElement(me,Object.assign({open:n},{onClose:r},{header:"Filter"},{content:L}))},he=a(116),ye=a.n(he),Oe=new Map([["organizations",function(e){return["orgId:".concat(e)]}],["orderType",function(e){return["orderType.".concat(e,".isActive:true")]}],["status",function(e){return["status:".concat(e)]}],["employee",function(e){return["orderType.lienSearch.assignee:".concat(e),"orderType.landSurvey.assignee:".concat(e),"orderType.permitResolution.assignee:".concat(e),"orderType.estoppelLetter.assignee:".concat(e)]}]]),je=function(e,t){return Object(ne.transform)(Object(R.a)({},e),(function(e,t,a){return(null===t||void 0===t?void 0:t.value)?e.push(Oe.get(a)(t.value)):e}),t||[])},Ce=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),c=Object(b.a)(r,2),i=c[0],l=c[1],o=Object(s.useState)(""),m=Object(b.a)(o,2),d=m[0],p=m[1],g=Object(s.useState)(""),h=Object(b.a)(g,2),y=h[0],j=h[1],C=Object(s.useState)(""),x=Object(b.a)(C,2),S=x[0],k=x[1],w=Object(s.useState)(""),N=Object(b.a)(w,2),A=N[0],T=N[1],I=Object(s.useContext)(P),L=Object(v.g)(),D=Object(v.h)(),R=D.pathname,M=D.state,F=(M=void 0===M?{openFilter:!1}:M).openFilter,q=Object(s.useMemo)((function(){var e={status:{value:d,setter:p},orderType:{value:A,setter:T}};return(null===I||void 0===I?void 0:I.admin)&&(e.organizations={value:y,setter:j},e.employee={value:S,setter:k}),e}),[I,d,A,y,S]),U=Object(s.useCallback)(Object(E.a)(f.a.mark((function e(){var t,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=B()("1AVZX9L93I","68be777ac13a6002caf326d9bcfbf90a"),e.next=3,t.initIndex("orders");case 3:a=e.sent,r=[],I&&!(null===I||void 0===I?void 0:I.admin)&&(r=[["orgId:".concat(I.orgId)]]),r=je(q,r),a.search(i,{facetFilters:r}).then((function(e){var t=e.hits;n(t)})).catch((function(e){return console.log(e)}));case 8:case"end":return e.stop()}}),e)}))),[I,i,q]);return Object(s.useEffect)((function(){U()}),[U]),u.a.createElement(u.a.Fragment,null,u.a.createElement(ge,Object.assign({open:F,onClose:function(){L.push({pathname:R,state:{openFilter:!1}})}},{filters:q})),u.a.createElement(O.a,{container:!0,direction:"column",spacing:4},u.a.createElement(O.a,{item:!0,container:!0,justify:"space-between",spacing:2,wrap:"nowrap"},u.a.createElement(O.a,{item:!0,xs:10},u.a.createElement(ae,{value:i,setValue:l})),u.a.createElement(O.a,{item:!0,container:!0,spacing:1,justify:"flex-end"},u.a.createElement(O.a,{item:!0},u.a.createElement(z.a,{size:"small",onClick:function(){U()}},u.a.createElement(ye.a,null))),u.a.createElement(O.a,{item:!0},u.a.createElement(z.a,{size:"small",onClick:function(){L.push({pathname:R,state:{openFilter:!0}})}},u.a.createElement(W.a,{color:"error",variant:"dot",invisible:!Object.values(q).find((function(e){return!!e.value}))},u.a.createElement(le.a,null)))))),u.a.createElement(O.a,{item:!0},0===a.length?u.a.createElement(re,{title:"No Orders Found",imageFile:"orders.svg"}):u.a.createElement(J,{orders:a}))))},xe=Object(s.createContext)({title:"",setTitle:function(){}}),Se=Object(s.createContext)({actionButton:null,setNavigationBar:function(){}}),ke=function(){var e=Object(v.g)(),t=Object(s.useContext)(P),a=Object(s.useContext)(xe).setTitle,n=Object(s.useContext)(Se).setNavigationBar;return Object(s.useEffect)((function(){a("Dashboard")}),[a]),Object(s.useEffect)((function(){(null===t||void 0===t?void 0:t.admin)||n({label:"New Order",action:function(){return e.push("/new-order/1")}})}),[t,n,e]),u.a.createElement(Ce,null)},we=a(141),Ne=a(118),Ae=a.n(Ne),Te=function(){var e=Ie(),t=Object(s.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(we.a)(),i=c.register,l=c.handleSubmit,o=Object(v.g)(),m=function(){var e=Object(E.a)(f.a.mark((function e(t,a){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),r(""),n=new Ae.a(t.phoneNumber,"US"),e.prev=3,n.isValid()){e.next=6;break}throw new Error("Please input valid phone number");case 6:return c=N.a.functions().httpsCallable("users-createUser"),e.next=9,c({email:t.email,password:t.password,name:t.name,orgId:t.orgId,phoneNumber:n.getNumber()});case 9:o.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),r(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}();return u.a.createElement(T,null,u.a.createElement("form",{onSubmit:l(m),className:e.form},u.a.createElement("img",{alt:"",className:e.logo,src:"".concat("","/logo.png")}),u.a.createElement(O.a,{container:!0,direction:"column",alignItems:"stretch",spacing:4},u.a.createElement(O.a,{item:!0,className:e.title},u.a.createElement(x.a,{variant:"h5"},"Create Account")),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{type:"email",error:!!n,fullWidth:!0,label:"Email",variant:"outlined",name:"email",inputRef:i})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{type:"name",error:!!n,fullWidth:!0,label:"Name",variant:"outlined",name:"name",inputRef:i})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{type:"phone",error:!!n,fullWidth:!0,label:"Phone Number",variant:"outlined",name:"phoneNumber",inputRef:i})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{type:"id",error:!!n,fullWidth:!0,label:"Organization Id",helperText:"Id of the organization you belong",variant:"outlined",name:"orgId",inputRef:i})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{fullWidth:!0,error:!!n,type:"password",label:"Password",variant:"outlined",name:"password",inputRef:i})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{fullWidth:!0,error:!!n,type:"password",label:"Confirm Password",variant:"outlined",name:"confirmedPassword",inputRef:i})),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Submit")),u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,null,"Already have an account?")),u.a.createElement(O.a,{item:!0},u.a.createElement(k.a,{to:"/"},"Login"))),n&&u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{color:"error"},n)))))},Ie=Object(S.a)((function(e){return{title:{alignSelf:"center"},logo:{height:70,marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",alignItems:"center"}}})),Le=a(241),De=a(242),Pe=a(243),Re=a(268),ze=a(240),We=a(262),Me=function(e){var t=e.activeStep,a=e.steps;return u.a.createElement(Re.a,{activeStep:t},a.map((function(e){return u.a.createElement(ze.a,{key:e.label},u.a.createElement(We.a,null,e.label))})))},Be=function(e){var t,a,n=e.activeStep,r=e.toolbarHeader,c=e.cancelPath,i=e.stepComponents,l=Object(v.g)(),o=Fe(),s=parseInt(n)-1,m=function(){return l.push(c)};return u.a.createElement(Le.a,{fullScreen:!0,open:!0,onClose:m},u.a.createElement(De.a,{className:o.appBar},u.a.createElement(Pe.a,null,u.a.createElement(O.a,{container:!0,spacing:2,alignItems:"center"},u.a.createElement(O.a,{item:!0},u.a.createElement(z.a,{edge:"start",color:"inherit",onClick:m,"aria-label":"close"},u.a.createElement(ue.a,null))),u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h5"},r))))),u.a.createElement(O.a,{container:!0,direction:"column"},u.a.createElement(O.a,{container:!0,item:!0,justify:"center"},u.a.createElement(Me,{activeStep:s,steps:i})),u.a.createElement(O.a,{item:!0,container:!0,justify:"center"},null!==(t=null===(a=i[s])||void 0===a?void 0:a.component)&&void 0!==t?t:"Error")))},Fe=Object(S.a)((function(e){return{appBar:{position:"relative"},paper:{padding:e.spacing(4,5,2,5)},buttons:{marginBottom:e.spacing(2)}}})),qe=function(e){var t=e.content,a=e.isLast,n=e.isFirst,r=e.onNext,c=e.onCancel,i=e.disabled,l=void 0!==i&&i,o=e.hideActions,s=Ue(),m=Object(v.g)();return u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:3,className:s.container},t,!o&&u.a.createElement(O.a,{item:!0,container:!0,spacing:2,justify:"flex-end",className:s.buttons},u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{onClick:c||function(){return m.goBack()},variant:"contained",color:"primary"},n?"Cancel":"Back")),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{onClick:r,disabled:l,variant:"contained",color:"primary"},a?"Finish":"Next"))))},Ue=Object(S.a)((function(e){return{container:{margin:e.spacing(0,5)},buttons:{marginBottom:e.spacing(2)}}})),He=a(21),Ve=a(76),Ge=a.n(Ve),Ke=a(51),_e=a.n(Ke),Xe=a(264),Ye=a(244),$e=a(245),Je=a(119),Ze=a.n(Je),Qe=function(e){var t=e.header,a=e.content,n=e.defaultExpanded,r=et();return u.a.createElement(Xe.a,Object.assign({defaultExpanded:n},{className:r.accordion}),u.a.createElement(Ye.a,{expandIcon:u.a.createElement(Ze.a,null)},u.a.createElement(x.a,{variant:"h6"},t)),u.a.createElement($e.a,null,u.a.createElement(O.a,{container:!0,direction:"column",spacing:1},a.map((function(e,t){return u.a.createElement(O.a,{key:"accordion-".concat(t),item:!0,container:!0},u.a.createElement(O.a,{item:!0,xs:6},u.a.createElement(x.a,null,e.subHeader)),u.a.createElement(O.a,{item:!0,xs:6},u.a.createElement(x.a,{variant:"body2"},e.value)))})))))},et=Object(S.a)((function(e){return{accordion:{width:"100%"}}})),tt=function(e){var t=e.address1,a=e.address2,n=e.unit,r=e.zipCode,c=e.city,i=e.state;return"".concat(t).concat(a?" ".concat(a):"").concat(n?" ".concat(n):"",", ").concat(i," ").concat(c," ").concat(r," ")},at=new Map([["lienSearch","Lien Search"],["estoppelLetter","Estoppel Letter"],["landSurvey","Land Survey"],["permitResolution","Permit Resolution"]]),nt=new Map([["folio","Folio"],["legalDescription","legal Description"],["closingDate","Closing Date"],["neededDate","Needed Date"],["seller","Seller"],["buyer","Buyer"],["listingAgent","Listing Agent"],["listingAgentPhone","Listing Agent Phone"],["specialInstructions","Special Instructions"]]),rt=new Map([["buyerCertification","Buyer Certification"],["lenderCertification","Lender Certification"],["titleCompany","Title Company"],["underwriterCertification","Underwriter Certficiation"]]),ct=["folio","closingDate","neededDate","buyer","listingAgent","listingAgentPhone","legalDescription","specialInstructions"],it=["buyerCertification","lenderCertification","titleCompany","underwriterCertification"],lt=function(e){var t=e.order,a=e.type,n=Object(s.useContext)(P),r=_e.a.firestore(),c=Object(s.useState)(null),i=Object(b.a)(c,2),l=i[0],o=i[1],m=Object(s.useState)(null),d=Object(b.a)(m,2),p=d[0],f=d[1],E=Object(s.useState)(!1),v=Object(b.a)(E,2),g=v[0],h=v[1];Object(s.useEffect)((function(){t.orgId?r.collection("organizations").doc(t.orgId).get().then((function(e){e.exists||o(null),o(e.data())})).catch((function(e){return console.log(e)})).finally((function(){return h(!1)})):(o(null),h(!1))}),[t,r]),Object(s.useEffect)((function(){var e;"info"===a&&t.requestedBy?r.collection("users").doc(t.requestedBy).get().then((function(e){var t,a;e.exists||f(null),f(null!==(t=null===(a=e.data())||void 0===a?void 0:a.email)&&void 0!==t?t:"")})).catch((function(e){return console.log("here",e)})).finally((function(){return h(!1)})):f(null!==(e=null===n||void 0===n?void 0:n.email)&&void 0!==e?e:"")}),[t,a,r,n]);if(g)return u.a.createElement(u.a.Fragment,null);var y=[{header:"Property Address",content:[{subHeader:tt(t.address)}],defaultExpanded:!0},{header:"Requested By",content:[{subHeader:"User Email",value:null!==p&&void 0!==p?p:"No user Found"},{subHeader:"Organization",value:l?l.name:"No Company Found"}]},{header:"Type of Order",content:function(){for(var e=[],a=0,n=Object.entries(t.orderType);a<n.length;a++){var r,c=Object(b.a)(n[a],2),i=c[0],l=c[1],o={subHeader:null!==(r=at.get(i))&&void 0!==r?r:"",value:l.isActive?u.a.createElement(Ge.a,null):u.a.createElement(ue.a,null)};e.push(o)}return e}()},{header:"Order Details",content:ct.map((function(e){var a;return{subHeader:null!==(a=nt.get(e))&&void 0!==a?a:"",value:t[e]||"--"}}))}];return t.orderType.landSurvey.isActive&&y.push({header:"Land Survey Info",content:function(){var e=it.map((function(e){var a;return{subHeader:null!==(a=rt.get(e))&&void 0!==a?a:"",value:t.landSurvey[e]||"--"}})),a={subHeader:"Include Hard Copy",value:t.landSurvey.hardCopy?u.a.createElement(Ge.a,null):u.a.createElement(ue.a,null)};return[].concat(Object(He.a)(e),[a])}()}),u.a.createElement(u.a.Fragment,null,y.map((function(e,t){return u.a.createElement(Qe,{key:"displayOrder-".concat(t),header:e.header,content:e.content})})))},ot=function(e){var t=e.data,a=e.associations,n=e.orderType,r=e.address,c=e.landSurvey,i=e.id,l=Object(s.useState)(!1),o=Object(b.a)(l,2),m=o[0],d=o[1],p=Object(s.useState)(!1),g=Object(b.a)(p,2),h=g[0],y=g[1],O=Object(s.useContext)(P),j=Object(v.g)(),C=N.a.firestore(),x=Object(s.useMemo)((function(){var e=Object(R.a)(Object(R.a)({},t),{},{address:r,orderType:n,requestedBy:(null===O||void 0===O?void 0:O.uid)||"",orgId:(null===O||void 0===O?void 0:O.orgId)||"",created_on:Date.now(),status:"inProgress"});return n.landSurvey.isActive&&(e.landSurvey=c),n.estoppelLetter.isActive&&(e.associations=a),e}),[t,c,a,n,r,O]),S=function(){var e=Object(E.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),e.prev=1,!i){e.next=8;break}return e.next=5,C.collection("orders").doc(i).update(x);case 5:j.push("/order/".concat(i)),e.next=11;break;case 8:return e.next=10,C.collection("orders").add(x);case 10:y(!0);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),k=h?u.a.createElement(re,{imageFile:"complete.svg",title:"Order Complete!",description:"We are working on your oder",button:{text:"Go to dashboard",onClick:function(){return j.push("/")}}}):u.a.createElement(lt,Object.assign({order:x},{type:"create"}));return u.a.createElement(qe,Object.assign({content:k},{isLast:!0,onNext:S,disabled:m,hideActions:h}))},st=a(246),ut=a(120),mt=a.n(ut),dt=a(121),pt=a.n(dt),ft=a(122),Et=a.n(ft),bt=new Map([["landSurvey",u.a.createElement(mt.a,null)],["estoppelLetter",u.a.createElement(pt.a,null)],["lienSearch",u.a.createElement(te.a,null)],["permitResolution",u.a.createElement(Et.a,null)]]),vt=function(e){var t=e.type,a=e.selected,n=gt();return u.a.createElement(A.a,{className:"".concat(n.container," ").concat(a?n.selected:"")},u.a.createElement(O.a,{container:!0,alignItems:"center",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement("div",null,bt.get(t))),u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},r[t]))))},gt=Object(S.a)((function(e){return{container:{padding:e.spacing(3)},icon:{margin:e.spacing(0,2)},selected:{borderColor:e.palette.primary.main,border:"solid"}}})),ht=function(e){var t=e.basePath,a=e.orderTypes,n=e.setOrderTypes,r=Object(v.g)(),c=[{name:"lienSearch",label:"Lien Search",selected:a.lienSearch.isActive,description:"Lorep ilsum Lorep ilsumLorep ilsumLorep ilsum"},{name:"estoppelLetter",label:"Estoppel Letter",selected:a.estoppelLetter.isActive,description:"Lorep ilsum Lorep ilsumLorep ilsumLorep ilsum"},{name:"landSurvey",label:"Land Survey",selected:a.landSurvey.isActive,description:"Lorep ilsum Lorep ilsumLorep ilsumLorep ilsum"},{name:"permitResolution",label:"Permit Resolution",selected:a.permitResolution.isActive,description:"Lorep ilsum Lorep ilsumLorep ilsumLorep ilsum"}],i=u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},"Select Type of Order"),u.a.createElement(st.a,null)),u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"body1"},"You can select multiple order types for the same property")),u.a.createElement(O.a,{item:!0,container:!0,spacing:2},c.map((function(e,t){return u.a.createElement(O.a,{key:"type-".concat(t),item:!0,xs:6,md:3,onClick:function(){return function(e){n((function(t){var a=Object(R.a)({},t);return a[e].isActive=!t[e].isActive,a}))}(e.name)}},u.a.createElement(vt,{type:e.name,selected:a[e.name].isActive}))}))));return u.a.createElement(qe,Object.assign({content:i},{isFirst:!0},{onNext:function(){r.push("".concat(t,"/2"),{orderType:a})}},{disabled:!c.find((function(e){return e.selected}))}))},yt=a(124),Ot=a.n(yt),jt=a(123),Ct=a.n(jt),xt=function(e){var t=e.setAssociations,a=e.associations,n=e.setIsAssociationsReady,r=function(e,n,r){var c=Object(He.a)(a);c[r][e]=n.target.value,t(c)};return Object(s.useEffect)((function(){var e=!a.some((function(e){return Object(ne.some)(e,(function(e){return!e}))}));n(e)}),[a,n]),u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h5"},"Associations (Estoppel Letter)"),u.a.createElement(st.a,null)),a.map((function(e,a){return u.a.createElement(O.a,{item:!0,container:!0,key:"association-form-".concat(a),alignItems:"center",spacing:2},u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center",spacing:1,xs:6,md:6},0!==a&&u.a.createElement(O.a,{item:!0,xs:1},u.a.createElement(z.a,{onClick:function(){return function(e){t((function(t){var a=Object(He.a)(t);return a.splice(e,1),a}))}(a)},size:"small"},u.a.createElement(Ct.a,null))),u.a.createElement(O.a,{item:!0,xs:0!==a?11:12},u.a.createElement(j.a,{fullWidth:!0,autoComplete:"nope",required:!0,label:"Association Name",value:e.name,variant:"outlined",onChange:function(e){return r("name",e,a)}}))),u.a.createElement(O.a,{item:!0,xs:6,md:6},u.a.createElement(j.a,{fullWidth:!0,autoComplete:"nope",required:!0,label:"Association Number",value:e.number,variant:"outlined",onChange:function(e){return r("number",e,a)}})))})),u.a.createElement(O.a,{item:!0,xs:3},u.a.createElement(C.a,{variant:"text",onClick:function(){t((function(e){return[].concat(Object(He.a)(e),[Object(R.a)({},qt)])}))},startIcon:u.a.createElement(Ot.a,null)},"Add Association")))},St=a(228),kt=a(247),wt=a(248),Nt=a(260);function At(e){var t=e.isNotRequired,a=e.name,n=e.isNumber,r=e.label,c=e.value,i=e.setter;return e.isBoolean?u.a.createElement(St.a,null,u.a.createElement(kt.a,null,u.a.createElement(wt.a,{label:r,control:u.a.createElement(Nt.a,{checked:c,onChange:function(){return i((function(e){var t=Object(R.a)({},e);return t[a]=!e[a],t}))}})}))):u.a.createElement(j.a,{fullWidth:!0,autoComplete:"nope",required:!t,onChange:function(e){var t=n?parseInt(e.target.value):e.target.value;i((function(e){var n=Object(R.a)({},e);return n[a]=t,n}))},value:c,label:r,variant:"outlined"})}var Tt=function(e){var t=e.landSurvey,a=e.setLandSurvey,n=e.setIsLandSurveyReady,r=[{label:o.lenderCertification,key:"lenderCertification",xs:12,md:6},{label:o.buyerCertification,key:"buyerCertification",xs:12,md:6},{label:o.underwriterCertification,key:"underwriterCertification",xs:12,md:6},{label:o.titleCompany,key:"titleCompany",xs:12,md:6},{label:o.hardCopy,key:"hardCopy",xs:12,md:6,isBoolean:!0}];return Object(s.useEffect)((function(){var e=!r.some((function(e){return"hardCopy"!==e.key&&!e.isNotRequired&&!t[e.key]}));n(e)}),[r,t,n]),u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h5"},"Land Survey"),u.a.createElement(st.a,null)),u.a.createElement(O.a,{item:!0,container:!0,spacing:2},r.map((function(e,n){var r;return u.a.createElement(O.a,{key:"data-".concat(n),item:!0,xs:e.xs,md:e.md},u.a.createElement(At,{name:e.key,isNotRequired:e.isNotRequired,value:null!==(r=t[e.key])&&void 0!==r?r:"",setter:a,label:e.label,isBoolean:e.isBoolean}))}))))},It=function(e){var t=e.address,a=e.setAddress,n=e.setIsAddressReady,r=[{label:i.address1,key:"address1",md:6,xs:12},{label:i.address2,key:"address2",isNotRequired:!0,md:6,xs:12},{label:i.unit,key:"unit",isNotRequired:!0,md:3,xs:12},{label:i.city,key:"city",md:3,xs:12},{label:i.state,key:"state",md:3,xs:12},{label:i.zipCode,key:"zipCode",md:3,xs:12}];return Object(s.useEffect)((function(){var e=r.some((function(e){return!e.isNotRequired&&!t[e.key]}));n(!e)}),[r,t,n]),u.a.createElement(O.a,{item:!0,container:!0,spacing:2,xs:12,md:12,direction:"column"},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h5"},"Property Address"),u.a.createElement(st.a,null)),u.a.createElement(O.a,{item:!0,container:!0,spacing:2},r.map((function(e,n){var r;return u.a.createElement(O.a,{key:"data-".concat(n),item:!0,xs:e.xs,md:e.md},u.a.createElement(At,{name:e.key,isNotRequired:e.isNotRequired,value:null!==(r=t[e.key])&&void 0!==r?r:"",setter:a,label:e.label}))}))))},Lt=a(34),Dt=a(257),Pt=a(77),Rt=function(e){var t=e.orderData,a=e.setOrderData,n=e.setIsDataReady,r=[{label:l.orderNumber,key:"orderNumber",md:4,xs:12},{label:l.folio,key:"folio",isNumber:!0,md:4,xs:12},{label:l.legalDescription,key:"legalDescription",md:4,xs:12},{label:l.seller,key:"seller",md:3,xs:12},{label:l.buyer,key:"buyer",md:3,xs:12},{label:l.listingAgent,key:"listingAgent",isNotRequired:!0,md:3,xs:12},{label:l.listingAgentPhone,key:"listingAgentPhone",isNotRequired:!0,isNumber:!0,md:3,xs:12},{label:l.specialInstructions,key:"specialInstructions",isNotRequired:!0,md:12,xs:12}];return Object(s.useEffect)((function(){var e=r.some((function(e){return!e.isNotRequired&&!t[e.key]}));n(!e)}),[r,t,n]),u.a.createElement(O.a,{item:!0,container:!0,spacing:2,xs:12,direction:"column"},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h5"},"Order Information"),u.a.createElement(st.a,null)),u.a.createElement(O.a,{item:!0,container:!0,spacing:2},r.map((function(e,n){var r;return u.a.createElement(O.a,{key:"data-".concat(n),item:!0,xs:e.xs,md:e.md},u.a.createElement(At,{name:e.key,isNotRequired:e.isNotRequired,value:null!==(r=t[e.key])&&void 0!==r?r:"",setter:a,label:e.label}))})),u.a.createElement(O.a,{item:!0,xs:12,md:6},u.a.createElement(Lt.a,{utils:Pt.a},u.a.createElement(Dt.a,{fullWidth:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",inputVariant:"outlined",label:"Needed Date",value:t.neededDate,onChange:function(e){var t=null===e||void 0===e?void 0:e.toLocaleDateString();console.log(t),a((function(e){var a=Object(R.a)({},e);return a.neededDate=null!==t&&void 0!==t?t:"",a}))},KeyboardButtonProps:{"aria-label":"change date"}}))),u.a.createElement(O.a,{item:!0,xs:12,md:6},u.a.createElement(Lt.a,{utils:Pt.a},u.a.createElement(Dt.a,{fullWidth:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",inputVariant:"outlined",label:"Closing Date",value:t.closingDate,onChange:function(e){var t=null===e||void 0===e?void 0:e.toLocaleDateString();console.log(t),a((function(e){var a=Object(R.a)({},e);return a.closingDate=null!==t&&void 0!==t?t:"",a}))},KeyboardButtonProps:{"aria-label":"change date"}})))))},zt=function(e){var t=e.basePath,a=e.setData,n=e.setAssociations,r=e.associations,c=e.orderTypes,i=e.address,l=e.setAddress,o=e.landSurvey,m=e.setLandSurvey,d=e.data,p=Object(v.g)(),f=Object(s.useState)(!1),E=Object(b.a)(f,2),g=E[0],h=E[1],y=Object(s.useState)(!1),j=Object(b.a)(y,2),C=j[0],x=j[1],S=Object(s.useState)(!1),k=Object(b.a)(S,2),w=k[0],N=k[1],A=Object(s.useState)(!1),T=Object(b.a)(A,2),I=T[0],L=T[1],D=g&&C&&(!c.estoppelLetter.isActive||w)&&(!c.landSurvey.isActive||I),P=u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{item:!0,container:!0,spacing:2},u.a.createElement(It,Object.assign({setIsAddressReady:h},{address:i},{setAddress:l}))),u.a.createElement(O.a,{item:!0,container:!0,spacing:2},u.a.createElement(Rt,Object.assign({setIsDataReady:x},{orderData:d,setOrderData:a}))),u.a.createElement(O.a,{item:!0,container:!0,spacing:2},c.estoppelLetter.isActive&&u.a.createElement(O.a,{item:!0,container:!0,spacing:2,xs:12,md:c.landSurvey.isActive?6:12,direction:"column"},u.a.createElement(xt,Object.assign({setIsAssociationsReady:N},{setAssociations:n},{associations:r}))),c.landSurvey.isActive&&u.a.createElement(O.a,{item:!0,container:!0,spacing:2,xs:12,md:c.estoppelLetter.isActive?6:12,direction:"column"},u.a.createElement(Tt,Object.assign({setIsLandSurveyReady:L},{landSurvey:o},{setLandSurvey:m})))));return u.a.createElement(qe,Object.assign({content:P},{onNext:function(){a(d),p.push("".concat(t,"/3"),{orderType:c,data:d,associations:r})},disabled:!D}))},Wt=a(249),Mt={address1:"",address2:"",unit:"",city:"",state:"",zipCode:""},Bt={lenderCertification:"",buyerCertification:"",underwriterCertification:"",titleCompany:"",hardCopy:!1},Ft={orderNumber:"",specialInstructions:"",folio:0,legalDescription:"",closingDate:(new Date).toLocaleDateString(),neededDate:(new Date).toLocaleDateString(),seller:"",buyer:"",listingAgent:"",listingAgentPhone:0},qt={name:"",number:""},Ut=function(){var e=Object(v.g)(),t=e.location.state,a=(t=void 0===t?{preOrderType:null,data:null,associations:[Object(R.a)({},qt)]}:t).preOrderType,n=t.data,r=t.associations,c=Object(s.useState)(!1),i=Object(b.a)(c,2),l=i[0],o=i[1],m=Object(s.useState)(n||Ft),d=Object(b.a)(m,2),p=d[0],f=d[1],E=Object(s.useState)(Mt),g=Object(b.a)(E,2),h=g[0],y=g[1],O=Object(s.useState)(Bt),j=Object(b.a)(O,2),C=j[0],x=j[1],S=Object(s.useState)(r||[Object(R.a)({},qt)]),k=Object(b.a)(S,2),w=k[0],A=k[1],T=Object(s.useState)(Object(R.a)({},a||_)),I=Object(b.a)(T,2),L=I[0],D=I[1],P=Object(v.i)(),z=P.step,W=P.id;Object(s.useEffect)((function(){W&&N.a.firestore().collection("orders").doc(W).get().then((function(t){if(t.exists){var a=function(e){var t=Object(ne.pickBy)(e,(function(e,t){return!Object(ne.includes)(["address","orderType","associations"],t)}));return{address:e.address,orderType:e.orderType,orderData:t,associations:e.associations,landSurvey:e.landSurvey}}(t.data()),n=a.orderData,r=a.orderType,c=a.associations,i=a.address,l=a.landSurvey;f(n),D(r),A((function(e){return c?Object(ne.extend)(c):[qt]})),y(i),x((function(e){return l?Object(ne.extend)(e,l):Bt}))}else e.push("/")})).catch((function(e){return console.log("Order error",e)})).finally((function(){o(!1)}))}),[e,W]);var M=W?"/update/".concat(W):"/new-order",B=W?"/order/".concat(W):"/";if(l)return u.a.createElement(Wt.a,null);if(!z)return u.a.createElement(v.a,{to:"/"});var F=[{label:"Type of Order",component:u.a.createElement(ht,Object.assign({basePath:M},{orderTypes:L},{setOrderTypes:D}))},{label:"Property Information",component:u.a.createElement(zt,Object.assign({address:h},{setAddress:y},{setData:f},{setAssociations:A},{associations:w},{setLandSurvey:x},{landSurvey:C},{orderTypes:L},{data:p},{basePath:M}))},{label:"Confirm Order",component:u.a.createElement(ot,Object.assign({address:h},{landSurvey:C},{associations:w},{id:W},{data:p},{orderType:L}))}];return u.a.createElement(Be,Object.assign({cancelPath:B},{stepComponents:F},{activeStep:z,toolbarHeader:"Create New Order"}))},Ht=a(250),Vt=function(e){var t=e.children,a=Gt();return u.a.createElement("div",{className:a.root},u.a.createElement(Ht.a,null),t)},Gt=Object(S.a)((function(e){return{root:{height:"100vh",backgroundColor:e.palette.primary.main,display:"flex",justifyContent:"center",alignItems:"center"}}})),Kt=a(255),_t=a(31),Xt=a(140),Yt=a(251),$t=a(266),Jt=a(252),Zt=a(125),Qt=a.n(Zt),ea=Object(S.a)((function(e){var t;return{menuButton:{marginRight:e.spacing(2)},link:{textDecoration:"none",color:"black",flexGrow:1},logo:{height:60,width:140},divider:{backgroundColor:"#8a818126"},appBar:(t={},Object(_t.a)(t,e.breakpoints.up("sm"),{marginLeft:ha,width:"calc(100% - ".concat(ha,"px)")}),Object(_t.a)(t,"top",0),Object(_t.a)(t,"left","auto"),Object(_t.a)(t,"right",0),Object(_t.a)(t,"position","absolute"),Object(_t.a)(t,"zIndex",1100),Object(_t.a)(t,"boxSizing","border-box"),t),toolBar:{display:"flex",justifyContent:"space-between",paddingLeft:100,paddingRight:100,alignItems:"center",paddingTop:20}}})),ta=function(){var e=ea(),t=u.a.useState(null),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Boolean(n),i=Object(s.useContext)(xe).title,l=Object(s.useContext)(P),o=Object(v.g)(),m=function(){var e=Object(E.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.auth().signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:e.appBar},u.a.createElement(Pe.a,{className:e.toolBar},u.a.createElement(x.a,{variant:"h4"},i),u.a.createElement(z.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit"},u.a.createElement(Qt.a,null)),u.a.createElement(Xt.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:function(){r(null)}},u.a.createElement(pe.a,{onClick:function(){return o.push("/profile")}},u.a.createElement(Yt.a,null,u.a.createElement($t.a,null,null===l||void 0===l?void 0:l.email.charAt(0))),u.a.createElement(Jt.a,null,null===l||void 0===l?void 0:l.email)),u.a.createElement(st.a,{className:e.divider}),u.a.createElement(pe.a,{onClick:m},"Logout"))))},aa=Object(s.createContext)({loading:!1,setLoading:function(){}}),na=a(261),ra=a(230),ca=a(194),ia=a(253),la=a(96),oa=a.n(la),sa=a(126),ua=a.n(sa),ma=a(127),da=a.n(ma),pa=function(){var e=fa(),t=Object(s.useContext)(P),a=Object(v.g)(),n=Object(v.h)().pathname,r=[{label:"My Orders",icon:u.a.createElement(oa.a,null),action:function(){return a.push("/")},divider:!!(null===t||void 0===t?void 0:t.admin),selected:["/","/order/:id"].includes(n)}];return(null===t||void 0===t?void 0:t.admin)&&r.push({label:"Manage Employees",icon:u.a.createElement(ua.a,null),action:function(){return a.push("/admin/employees")},divider:!1,selected:"/admin/employees"===n},{label:"Manage Clients",icon:u.a.createElement(da.a,null),action:function(){return a.push("/admin/clients")},divider:!1,selected:"/admin/clients"===n}),u.a.createElement("nav",{className:e.drawer},u.a.createElement(na.a,{xsDown:!0,implementation:"js"},u.a.createElement(oe.a,{anchor:"left",variant:"permanent",open:!0,classes:{paper:e.drawerPaper}},u.a.createElement("div",{className:e.logoContainer},u.a.createElement("img",{alt:"",className:e.logo,src:"".concat("","/logo-transparent.png")})),u.a.createElement(ra.a,null,r.map((function(e,t){return u.a.createElement(u.a.Fragment,{key:"left-nav-".concat(t)},u.a.createElement(ca.a,{button:!0,onClick:e.action,selected:e.selected},u.a.createElement(ia.a,null,e.icon),u.a.createElement(Jt.a,{primary:e.label})),e.divider&&u.a.createElement(st.a,null))}))))))},fa=Object(S.a)((function(e){return{drawerPaper:{width:ha,backgroundColor:e.palette.primary.main},drawer:Object(_t.a)({},e.breakpoints.up("sm"),{width:ha,flexShrink:0}),logo:{height:90,width:200},logoContainer:{padding:e.spacing(2)}}})),Ea=a(263),ba=a(254),va=function(){var e=Object(v.i)().id,t=ga(),a=Object(s.useContext)(Se).actionButton,n=Object(v.g)();return u.a.createElement(O.a,{container:!0,justify:"space-between",alignItems:"center"},u.a.createElement(O.a,{item:!0},u.a.createElement(Ea.a,{"aria-label":"breadcrumb"},u.a.createElement(ba.a,{color:"inherit",onClick:function(){return n.push("/")},className:t.pointer},"All"),e&&u.a.createElement(ba.a,{color:"inherit",className:t.link},u.a.createElement(oa.a,{className:t.icon}),(null===a||void 0===a?void 0:a.breadcrumbText)||e))),a&&u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{variant:"contained",color:"primary",size:"large",onClick:a.action},a.label)))},ga=Object(S.a)((function(e){return{pointer:{cursor:"pointer"},link:{display:"flex"},icon:{marginRight:e.spacing(1)}}})),ha=240,ya=function(e){var t=e.children,a=e.noBreadCrumb,n=e.noPadding,r=Object(s.useState)(!1),c=Object(b.a)(r,2),i=c[0],l=c[1],o=Object(s.useState)(""),m=Object(b.a)(o,2),d=m[0],p=m[1],f=Object(s.useState)(null),E=Object(b.a)(f,2),v=E[0],g=E[1],h=Oa();return u.a.createElement(aa.Provider,{value:{loading:i,setLoading:l}},u.a.createElement(xe.Provider,{value:{title:d,setTitle:p}},u.a.createElement(Se.Provider,{value:{actionButton:v,setNavigationBar:g}},u.a.createElement("div",{className:h.root},u.a.createElement(Ht.a,null),u.a.createElement(ta,null),u.a.createElement(pa,null),i&&u.a.createElement(Kt.a,null),u.a.createElement("main",{className:"".concat(h.content," ").concat(n?void 0:h.paddingContent)},u.a.createElement(Pe.a,null),!a&&u.a.createElement("div",{className:h.bottomMargin},u.a.createElement(va,null)),t)))))},Oa=Object(S.a)((function(e){return{content:{paddingTop:20,width:"100%"},paddingContent:{paddingLeft:100,paddingRight:100},root:{display:"flex"},bottomMargin:{marginBottom:e.spacing(4)}}})),ja=a(129),Ca=a.n(ja),xa=a(130),Sa=a.n(xa),ka=Object(s.createContext)({setMessage:function(){},setMessageType:function(){}}),wa=function(e){var t=e.orderId,a=e.orgId,n=Object(s.useState)([]),r=Object(b.a)(n,2),c=r[0],i=r[1],l=Object(s.useState)(!1),o=Object(b.a)(l,2),m=o[0],d=o[1],p=Object(s.useState)(!0),f=Object(b.a)(p,2),E=f[0],v=f[1],g="org-".concat(a,"/order-").concat(t,"/"),h=Object(s.useContext)(ka),y=h.setMessage,j=h.setMessageType,S=Object(s.useContext)(P),k=N.a.storage(),w=Object(s.useCallback)((function(e){j("error"),y(e&&e.message)}),[y,j]),T=function(e){j("success"),y(e)},I=Object(s.useCallback)((function(){S&&k.ref().child(g).listAll().then((function(e){i(e.items.map((function(e){return e.name})))})).catch((function(e){return w(e)})).finally((function(){return v(!1)}))}),[k,S,g,w]);Object(s.useEffect)((function(){I()}),[I]);var L=Na();return E?u.a.createElement(Wt.a,null):u.a.createElement(A.a,{className:L.fullWidth},u.a.createElement(O.a,{container:!0,direction:"column",spacing:3,className:L.cardContainer},u.a.createElement(O.a,{item:!0,container:!0,justify:"space-between",alignItems:"center",wrap:"nowrap"},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h5"},"Documents")),S&&S.admin&&u.a.createElement(O.a,{item:!0,container:!0,spacing:1,justify:"flex-end",alignItems:"center"},m&&u.a.createElement(O.a,{item:!0},u.a.createElement(Wt.a,null)),u.a.createElement(O.a,{item:!0},u.a.createElement("input",{className:L.input,style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:function(e){var t=e.target.files;if(t){var a=k.ref().child(g),n=Object(ne.map)(t,(function(e){return a.child(e.name).put(e)}));d(!0),Promise.all(n).then((function(){T("Succesful Upload"),I()})).catch((function(e){return w(e)})).finally((function(){return d(!1)}))}}}),u.a.createElement("label",{htmlFor:"raised-button-file"},u.a.createElement(C.a,{size:"large",component:"span",variant:"outlined",disabled:m},"Upload New File"))))),u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:2},0===c.length?u.a.createElement(re,{width:200,title:"No documents yet",imageFile:"documents.svg"}):c.map((function(e,t){return u.a.createElement(O.a,{key:"file-".concat(t),item:!0,container:!0,justify:"space-between",wrap:"nowrap"},u.a.createElement(O.a,{item:!0,container:!0,spacing:1,alignItems:"center",wrap:"nowrap"},u.a.createElement(O.a,{item:!0},u.a.createElement(Ca.a,null)),u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"body1",noWrap:!0},e))),u.a.createElement(O.a,{item:!0},u.a.createElement(z.a,{onClick:function(){return t=e,void k.ref("".concat(g).concat(t)).getDownloadURL().then((function(e){var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var e,n=a.response,r=window.URL.createObjectURL(n),c=document.createElement("a");c.href=r,c.setAttribute("download",t),document.body.appendChild(c),c.click(),null===(e=c.parentNode)||void 0===e||e.removeChild(c)},a.open("GET",e),a.send()})).catch((function(e){return console.log(e)}));var t}},u.a.createElement(Sa.a,null))),S&&S.admin&&u.a.createElement(O.a,{item:!0},u.a.createElement(z.a,{onClick:function(){return t=e,void k.ref().child(g).child(t).delete().then((function(){T("Succesfully Delete ".concat(t)),I()})).catch((function(e){w(e)}));var t}},u.a.createElement(ue.a,null))))})))))},Na=Object(S.a)((function(e){return{input:{display:"none"},cardContainer:{padding:e.spacing(3)},fullWidth:{width:"100%"}}})),Aa=a(131),Ta=a.n(Aa),Ia=function(e){var t=e.kpis,a=La();return u.a.createElement(O.a,{container:!0,spacing:2},t.map((function(e,t){return u.a.createElement(O.a,{key:"kpi-".concat(t),item:!0,container:!0,justify:"space-between",wrap:"nowrap",xs:6},u.a.createElement(A.a,{className:a.paper},u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:2,className:a.container},u.a.createElement(O.a,{item:!0,container:!0,wrap:"nowrap",justify:"space-between"},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},e.title)),e.action&&u.a.createElement(O.a,{item:!0},u.a.createElement(z.a,{size:"small",onClick:e.action},u.a.createElement(Ta.a,null)))),u.a.createElement(O.a,{item:!0,container:!0,spacing:2},e.data.map((function(e,t){return function(e,t){return u.a.createElement(O.a,{key:"".concat(e.title,"-").concat(t),item:!0,container:!0,alignItems:"center",wrap:"nowrap",spacing:2,xs:6},u.a.createElement(O.a,{item:!0,className:a.icon},e.icon),u.a.createElement(O.a,{item:!0,container:!0,direction:"column"},u.a.createElement(O.a,{item:!0},Object(s.isValidElement)(e.value)?e.value:u.a.createElement(x.a,null,e.value)),u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"body2"},e.title))))}(e,t)}))))))})))},La=Object(S.a)((function(e){return{container:{padding:e.spacing(2,3)},icon:{display:"flex",alignSelf:"center"},paper:{width:"100%"}}})),Da=a(135),Pa=a.n(Da),Ra=a(136),za=a.n(Ra),Wa=function(e){var t=e.currentStatus,a=e.setCurrentStatus;return u.a.createElement(j.a,{select:!0,variant:"outlined",fullWidth:!0,size:"small",value:t,onChange:function(e){return a(e.target.value)}},Object.keys(c).map((function(e,t){return u.a.createElement(pe.a,{key:"status-".concat(t),value:e},c[e])})))},Ma=function(e){var t=e.currentAssignee,a=e.setCurrentAssignee,n=Object(s.useState)([]),r=Object(b.a)(n,2),c=r[0],i=r[1],l=Object(s.useContext)(P),o=N.a.firestore();return Object(s.useEffect)((function(){(null===l||void 0===l?void 0:l.admin)&&o.collection("employees").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(R.a)({},e.data()))})),i(t)})).catch((function(e){return console.log(e)}))}),[l,o]),u.a.createElement(j.a,{select:!0,variant:"outlined",fullWidth:!0,value:t||" ",size:"small",onChange:function(e){return a(e.target.value)}},u.a.createElement(pe.a,{value:" "},"Not Assigned Yet"),c.map((function(e,t){return u.a.createElement(pe.a,{key:"status-".concat(t),value:e.email},e.email)})))},Ba=function(e){var t=e.estimatedDelivery,a=e.setEstimatedDelivery;return u.a.createElement(Lt.a,{utils:Pt.a},u.a.createElement(Dt.a,{fullWidth:!0,variant:"inline",size:"small",format:"MM/dd/yyyy",id:"date-picker-inline",inputVariant:"outlined",emptyLabel:"Not Determined",value:t||null,disablePast:!0,onChange:function(e){var t=null===e||void 0===e?void 0:e.toLocaleDateString();a(t||"")},KeyboardButtonProps:{"aria-label":"change date"}}))},Fa=function(e){var t=e.open,a=e.onClose,n=e.order,r=e.orderType,c=e.refreshOrder,i=Object(s.useState)(n.status),l=Object(b.a)(i,2),o=l[0],m=l[1],d=Object(s.useState)(r?n.orderType[r].status:"newOrder"),p=Object(b.a)(d,2),v=p[0],g=p[1],h=Object(s.useState)(r?n.orderType[r].assignee:""),y=Object(b.a)(h,2),j=y[0],S=y[1],k=Object(s.useState)(r?n.orderType[r].estimatedDelivery:""),w=Object(b.a)(k,2),A=w[0],T=w[1],I=N.a.firestore(),L=Object(s.useState)(!1),D=Object(b.a)(L,2),P=D[0],z=D[1],W=Object(s.useContext)(ka),M=W.setMessage,B=W.setMessageType,F=Object(s.useMemo)((function(){var e=Object(R.a)({},n);return r?(e.orderType[r].assignee=j,e.orderType[r].estimatedDelivery=A,e.orderType[r].status=e.orderType[r].status=v):e.status=o||"inProgress",e}),[j,o,A,n,r,v]),q=function(){var e=Object(E.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,e.next=4,I.collection("orders").doc(n.id).update(F);case 4:c(),B("success"),M("Order was modified"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),B("error"),M(e.t0.message||e.t0);case 13:return e.prev=13,z(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),U=u.a.createElement(O.a,{container:!0,direction:"column",spacing:3},u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},"Order Status")),u.a.createElement(O.a,{item:!0},r?u.a.createElement(Wa,{currentStatus:v,setCurrentStatus:g}):u.a.createElement(be,{status:o,setStatus:m}))),r&&u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},"Asignee Employee")),u.a.createElement(O.a,{item:!0},u.a.createElement(Ma,Object.assign({currentAssignee:j},{setCurrentAssignee:S})))),r&&u.a.createElement(O.a,{item:!0,container:!0,direction:"column",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h6"},"Estimated Delivery")),u.a.createElement(O.a,{item:!0},u.a.createElement(Ba,Object.assign({estimatedDelivery:A},{setEstimatedDelivery:T})))),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:q,disabled:P},"Aplly Changes")));return u.a.createElement(me,Object.assign({onClose:a},{open:t},{header:"Modify Order"},{content:U}))},qa=a(137),Ua=a.n(qa),Ha=a(134),Va=a.n(Ha),Ga=a(133),Ka=a.n(Ga),_a=a(132),Xa=a.n(_a),Ya=function(e){var t=e.isActive,a=$a();return t?u.a.createElement(Xa.a,{className:a.active}):u.a.createElement(Ka.a,{className:a.inactive})},$a=Object(S.a)((function(e){return{active:{color:e.palette.success.main,display:"flex",alignSelf:"center"},inactive:{color:e.palette.error.main,display:"flex",alignSelf:"center"}}})),Ja=function(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],i=Object(s.useContext)(aa).setLoading,l=Object(s.useContext)(xe).setTitle,o=Object(s.useContext)(Se).setNavigationBar,m=Object(s.useContext)(P),d=Object(v.g)(),p=Object(v.h)(),f=p.pathname,E=p.state,g=(E=void 0===E?{updateOrder:!1,modifyType:void 0}:E).updateOrder,h=E.modifyType;Object(s.useEffect)((function(){l("Order Info")}),[l]),Object(s.useEffect)((function(){return(null===m||void 0===m?void 0:m.admin)?o({label:"Modify Order",action:function(){return d.push({pathname:f,state:{updateOrder:!0}})},breadcrumbText:null===a||void 0===a?void 0:a.orderCount}):o({label:"Update Order",action:function(){return d.push("/update/".concat(null===a||void 0===a?void 0:a.id,"/1"))},breadcrumbText:null===a||void 0===a?void 0:a.orderCount}),function(){o(null)}}),[o,m,a,d,f]);var y=Object(v.i)().id,j=N.a.firestore(),C=Object(s.useCallback)((function(){y&&j.collection("orders").doc(y).get().then((function(e){e.exists?n(Object(R.a)(Object(R.a)({},e.data()),{},{id:e.id})):console.log("No such document!")})).catch((function(e){return console.log("here",e)})).finally((function(){i(!1)}))}),[j,y,i]);if(Object(s.useEffect)((function(){i(!0),C()}),[i,C]),!a)return u.a.createElement(u.a.Fragment,null," ");var S=function(e){return[{title:"Active",value:(t=e.isActive,u.a.createElement(O.a,{container:!0,spacing:1,alignItems:"center"},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,null,t?"Ordered":"Not Ordered")),u.a.createElement(O.a,{item:!0},u.a.createElement(Ya,{isActive:t})))),icon:u.a.createElement(Va.a,null)},{title:"Status",value:e.isActive?c[e.status]:"--",icon:u.a.createElement(Pa.a,null)},{title:"Assignee",value:e.isActive?e.assignee?e.assignee:"Not Assigned Yet":"--",icon:u.a.createElement(za.a,null)},{title:"Estimated Delivery",value:e.isActive?e.estimatedDelivery?e.estimatedDelivery:"TBD":"--",icon:u.a.createElement(Ua.a,null)}];var t},k=[{title:r.lienSearch,data:S(a.orderType.lienSearch),action:a.orderType.lienSearch.isActive&&(null===m||void 0===m?void 0:m.admin)?function(){d.push({pathname:f,state:{updateOrder:!0,modifyType:"lienSearch"}})}:void 0},{title:r.estoppelLetter,data:S(a.orderType.estoppelLetter),action:a.orderType.estoppelLetter.isActive&&(null===m||void 0===m?void 0:m.admin)?function(){d.push({pathname:f,state:{updateOrder:!0,modifyType:"estoppelLetter"}})}:void 0},{title:r.permitResolution,data:S(a.orderType.permitResolution),action:a.orderType.permitResolution.isActive&&(null===m||void 0===m?void 0:m.admin)?function(){d.push({pathname:f,state:{updateOrder:!0,modifyType:"permitResolution"}})}:void 0},{title:r.landSurvey,data:S(a.orderType.landSurvey),action:a.orderType.landSurvey.isActive&&(null===m||void 0===m?void 0:m.admin)?function(){d.push({pathname:f,state:{updateOrder:!0,modifyType:"landSurvey"}})}:void 0}];return u.a.createElement(u.a.Fragment,null,u.a.createElement(Fa,Object.assign({order:a},{open:g,onClose:function(){d.push({pathname:f,state:{updateOrder:!1,modifyType:void 0}})}},{refreshOrder:C},{orderType:h})),u.a.createElement(O.a,{container:!0,direction:"column",spacing:3},u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center",spacing:2},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,{variant:"h5"},"Order Status:")),u.a.createElement(O.a,{item:!0},u.a.createElement(X,{status:a.status}))),u.a.createElement(O.a,{item:!0},u.a.createElement(Ia,{kpis:k})),u.a.createElement(O.a,{item:!0},u.a.createElement(lt,Object.assign({order:a},{type:"info"}))),u.a.createElement(O.a,{item:!0},u.a.createElement(wa,{orderId:y,orgId:a.orgId}))))},Za=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(s.useContext)(ka),c=r.setMessage,i=r.setMessageType,l=Qa(),o=function(){var e=Object(E.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.a.auth().sendPasswordResetEmail(a);case 4:i("success"),c("Email Sent Succesfully"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c(e.t0.message||"We had troubles sending the email. Please try again.");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(T,null,u.a.createElement("form",{onSubmit:function(e){return o(e)},className:l.form},u.a.createElement("img",{alt:"",className:l.logo,src:"".concat("","/logo.png")}),u.a.createElement(O.a,{container:!0,direction:"column",alignItems:"stretch",spacing:4},u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{type:"email",fullWidth:!0,value:a,onChange:function(e){return n(e.target.value)},label:"email",variant:"outlined"})),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{type:"submit",disabled:!a,fullWidth:!0,variant:"contained",color:"primary"},"Submit Email")),u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center",spacing:1},u.a.createElement(O.a,{item:!0},u.a.createElement(x.a,null,"Already have your password?")),u.a.createElement(O.a,{item:!0},u.a.createElement(k.a,{to:"/"},"Login"))))))},Qa=Object(S.a)((function(e){return{title:{alignSelf:"center"},logo:{height:70,marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",alignItems:"center"}}})),en=function(e){var t=e.orgName,a=e.setOrgName,n=e.onCreateOrgClick,r=e.phoneNumber,c=e.setAddress,i=e.address,l=e.setPhoneNumber,o=e.loading;return u.a.createElement(O.a,{container:!0,direction:"column",spacing:2},u.a.createElement(O.a,{item:!0,container:!0,direction:"column",wrap:"nowrap"},u.a.createElement(O.a,{item:!0,xs:12},u.a.createElement(x.a,{variant:"h6"},"Create New Organization")),u.a.createElement(O.a,{item:!0,xs:12},u.a.createElement(st.a,null))),u.a.createElement(O.a,{item:!0,container:!0,spacing:2,direction:"column"},u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{fullWidth:!0,size:"small",label:"Company Name",variant:"outlined",value:t,onChange:function(e){return a(e.target.value)}})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{fullWidth:!0,size:"small",label:"Phone Number",variant:"outlined",value:r,onChange:function(e){return l(e.target.value)}})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{fullWidth:!0,size:"small",label:"Address",variant:"outlined",value:i,onChange:function(e){return c(e.target.value)}})),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{disabled:!i||!r||!t||o,fullWidth:!0,variant:"contained",onClick:n,color:"primary"},"Create Organization"))))},tn=["Organization","ID","Phone Number","Orders"],an=function(e){var t=e.orgs.map((function(e){return{columns:[{value:e.name},{value:e.id},{value:e.phoneNumber},{value:e.orderCount||0}]}}));return u.a.createElement(O.a,{container:!0,direction:"column",spacing:2},u.a.createElement(O.a,{item:!0,container:!0,direction:"column",wrap:"nowrap"},u.a.createElement(O.a,{item:!0,xs:12},u.a.createElement(x.a,{variant:"h6"},"Organizations")),u.a.createElement(O.a,{item:!0,xs:12},u.a.createElement(st.a,null))),u.a.createElement(O.a,{item:!0},u.a.createElement(A.a,null,u.a.createElement(F.a,null,u.a.createElement(q.a,null,u.a.createElement(U.a,null,tn.map((function(e,t){return u.a.createElement(H.a,{key:"orgs-columns-".concat(t)},e)})))),u.a.createElement(V.a,null,t.map((function(e,t){return u.a.createElement(U.a,{key:"orgs-row-".concat(t)},e.columns.map((function(e,t){return u.a.createElement(H.a,{key:"".concat(tn[t],"-cell-").concat(t)},u.a.createElement(x.a,null,e.value))})))})))))))},nn=function(){var e=_e.a.firestore(),t=Object(s.useState)([]),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(!1),i=Object(b.a)(c,2),l=i[0],o=i[1],m=Object(s.useState)(""),d=Object(b.a)(m,2),p=d[0],v=d[1],g=Object(s.useState)(""),h=Object(b.a)(g,2),y=h[0],j=h[1],C=Object(s.useState)(""),x=Object(b.a)(C,2),S=x[0],k=x[1],w=Object(s.useContext)(xe).setTitle;Object(s.useEffect)((function(){w&&w("Manage Clients")}),[w]);var N=Object(s.useContext)(ka),A=N.setMessage,T=N.setMessageType,I=Object(s.useCallback)((function(){e.collection("organizations").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(R.a)(Object(R.a)({},e.data()),{},{id:e.id}))})),r(t)})).catch((function(e){return console.log(e)}))}),[e]);Object(s.useEffect)((function(){I()}),[I]);var L=function(){var t=Object(E.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,e.collection("organizations").add({name:S,users:[],phoneNumber:p,orderCount:0,address:y,created_on:_e.a.firestore.FieldValue.serverTimestamp()});case 4:T("success"),A("Org Created Succesfully"),k(""),I(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),T("error"),A(t.t0.message||"Please try again");case 14:return t.prev=14,o(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,10,14,17]])})));return function(){return t.apply(this,arguments)}}();return u.a.createElement(O.a,{container:!0,direction:"column",spacing:5},u.a.createElement(O.a,{item:!0},u.a.createElement(en,Object.assign({phoneNumber:p,setPhoneNumber:v,address:y,setAddress:j},{onCreateOrgClick:L},{orgName:S},{setOrgName:k},{loading:l}))),u.a.createElement(O.a,{item:!0},u.a.createElement(an,{orgs:n})))},rn=function(e){var t=e.email,a=e.setEmail,n=e.name,r=e.setName,c=e.onSetNewAdminClick,i=e.loading;return u.a.createElement(O.a,{container:!0,direction:"column",spacing:2},u.a.createElement(O.a,{item:!0,container:!0,direction:"column",wrap:"nowrap"},u.a.createElement(O.a,{item:!0,xs:12},u.a.createElement(x.a,{variant:"h6"},"Add New Employee")),u.a.createElement(O.a,{item:!0,xs:12},u.a.createElement(st.a,null))),u.a.createElement(O.a,{item:!0,container:!0,spacing:2,direction:"column"},u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{size:"small",fullWidth:!0,label:"Name",variant:"outlined",value:n,onChange:function(e){return r(e.target.value)},type:"email"})),u.a.createElement(O.a,{item:!0},u.a.createElement(j.a,{size:"small",fullWidth:!0,label:"Email",variant:"outlined",value:t,onChange:function(e){return a(e.target.value)},type:"email"})),u.a.createElement(O.a,{item:!0},u.a.createElement(C.a,{disabled:!t||!n||i,fullWidth:!0,variant:"contained",onClick:c,color:"primary"},"Create Employee"))))},cn=["Name","Email"],ln=function(e){var t=e.employees.map((function(e){return{columns:[{value:e.name},{value:e.email}]}}));return u.a.createElement(O.a,{container:!0,direction:"column",spacing:2},u.a.createElement(O.a,{item:!0,container:!0,direction:"column",wrap:"nowrap"},u.a.createElement(O.a,{item:!0,xs:12},u.a.createElement(x.a,{variant:"h6"},"Employees")),u.a.createElement(O.a,{item:!0,xs:12},u.a.createElement(st.a,null))),u.a.createElement(O.a,{item:!0},u.a.createElement(A.a,null,u.a.createElement(F.a,null,u.a.createElement(q.a,null,u.a.createElement(U.a,null,cn.map((function(e,t){return u.a.createElement(H.a,{key:"employees-columns-".concat(t)},e)})))),u.a.createElement(V.a,null,t.map((function(e,t){return u.a.createElement(U.a,{key:"employees-row-".concat(t)},e.columns.map((function(e,t){return u.a.createElement(H.a,{key:"".concat(cn[t],"-cell-").concat(t)},u.a.createElement(x.a,null,e.value))})))})))))))},on=function(){var e=_e.a.firestore(),t=Object(s.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),i=Object(b.a)(c,2),l=i[0],o=i[1],m=Object(s.useState)([]),d=Object(b.a)(m,2),p=d[0],f=d[1],E=Object(s.useState)(!1),v=Object(b.a)(E,2),g=v[0],h=v[1],y=Object(s.useContext)(ka),j=y.setMessage,C=y.setMessageType,x=Object(s.useContext)(xe).setTitle;Object(s.useEffect)((function(){x&&x("Manage Employees")}),[x]);var S=Object(s.useCallback)((function(){e.collection("employees").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(R.a)(Object(R.a)({},e.data()),{},{id:e.id}))})),f(t)})).catch((function(e){return console.log(e)}))}),[e]);Object(s.useEffect)((function(){S()}),[S]);return u.a.createElement(O.a,{container:!0,direction:"column",spacing:5},u.a.createElement(O.a,{item:!0},u.a.createElement(rn,Object.assign({email:n},{setEmail:r},{name:l},{setName:o},{onSetNewAdminClick:function(){h(!0),_e.a.functions().httpsCallable("users-createEmployee")({email:n,name:l}).then((function(){C("success"),j("Admin Set Succesfully")})).catch((function(e){C("error"),j(e.message||"Please try again")})).finally((function(){S(),h(!1)}))}},{loading:g}))),u.a.createElement(O.a,{item:!0},u.a.createElement(ln,{employees:p})))},sn=function(){var e=Object(s.useContext)(xe).setTitle,t=Object(s.useContext)(ka),a=t.setMessage,n=t.setMessageType,r=Object(s.useState)(""),c=Object(b.a)(r,2),i=c[0],l=c[1],o=Object(s.useState)(""),m=Object(b.a)(o,2),d=m[0],p=m[1],f=Object(s.useState)(""),E=Object(b.a)(f,2),v=E[0],g=E[1],h=Object(s.useState)(!1),y=Object(b.a)(h,2),S=y[0],k=y[1];Object(s.useEffect)((function(){e("User Profile")}),[e]);return u.a.createElement(O.a,{container:!0,direction:"column",spacing:4},u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center"},u.a.createElement(O.a,{item:!0,xs:2},u.a.createElement(x.a,{variant:"subtitle1"},"Current Password")),u.a.createElement(O.a,{item:!0,xs:4},u.a.createElement(j.a,{type:"password",size:"small",variant:"outlined",fullWidth:!0,value:i,onChange:function(e){return l(e.target.value)}}))),u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center"},u.a.createElement(O.a,{item:!0,xs:2},u.a.createElement(x.a,{variant:"subtitle1"},"New Password")),u.a.createElement(O.a,{item:!0,xs:4},u.a.createElement(j.a,{type:"password",size:"small",variant:"outlined",fullWidth:!0,value:d,onChange:function(e){return p(e.target.value)}}))),u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center"},u.a.createElement(O.a,{item:!0,xs:2},u.a.createElement(x.a,{variant:"subtitle1"},"Confirm Password")),u.a.createElement(O.a,{item:!0,xs:4},u.a.createElement(j.a,{type:"password",size:"small",variant:"outlined",fullWidth:!0,value:v,onChange:function(e){return g(e.target.value)}}))),u.a.createElement(O.a,{item:!0,container:!0,alignItems:"center"},u.a.createElement(O.a,{item:!0,xs:2}),u.a.createElement(O.a,{item:!0,xs:4},u.a.createElement(C.a,{disabled:S||!i||!d||!v||d!==v,size:"small",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){var e;k(!0);var t=N.a.auth().currentUser,r=N.a.auth.EmailAuthProvider.credential(null!==(e=null===t||void 0===t?void 0:t.email)&&void 0!==e?e:"",i);null===t||void 0===t||t.reauthenticateWithCredential(r).then((function(){t.updatePassword(d).then((function(){n("success"),a("Password Updated")})).catch((function(e){n("error"),a(e.message||"Please try again")})).finally((function(){return k(!1)}))})).catch((function(e){n("error"),a(e.message||"Please try again")})).finally((function(){k(!1)}))}},"Update Password"))))},un=function(e){return u.a.createElement(Vt,null,e)},mn=function(e,t){return u.a.createElement(ya,t,e)},dn=function(){var e=Object(s.useContext)(P);return(null===e||void 0===e?void 0:e.uid)?u.a.createElement(v.d,null,u.a.createElement(v.b,{exact:!0,path:"/",render:function(){return mn(u.a.createElement(ke,null))}}),u.a.createElement(v.b,{exact:!0,path:"/new-order/:step",render:function(){return mn(u.a.createElement(Ut,null))}}),u.a.createElement(v.b,{exact:!0,path:"/update/:id/:step",render:function(){return mn(u.a.createElement(Ut,null))}}),u.a.createElement(v.b,{exact:!0,path:"/order/:id",render:function(){return mn(u.a.createElement(Ja,null))}}),u.a.createElement(v.b,{exact:!0,path:"/profile",render:function(){return mn(u.a.createElement(sn,null),{noBreadCrumb:!0})}}),e.admin&&u.a.createElement(u.a.Fragment,null,u.a.createElement(v.b,{exact:!0,path:"/admin/employees",render:function(){return mn(u.a.createElement(on,null),{noBreadCrumb:!0})}}),u.a.createElement(v.b,{exact:!0,path:"/admin/clients",render:function(){return mn(u.a.createElement(nn,null),{noBreadCrumb:!0})}})),u.a.createElement(v.a,{to:"/"})):u.a.createElement(v.d,null,u.a.createElement(v.b,{exact:!0,path:"/",render:function(){return un(u.a.createElement(L,null))}}),u.a.createElement(v.b,{exact:!0,path:"/create-account",render:function(){return un(u.a.createElement(Te,null))}}),u.a.createElement(v.b,{exact:!0,path:"/forgot-password",render:function(){return un(u.a.createElement(Za,null))}}),u.a.createElement(v.a,{to:"/"}))};a(186),a(187),a(188);N.a.initializeApp({apiKey:"AIzaSyCa61N2rKPLU-m7RW-iQ1Xd2G8d2GL0to8",authDomain:"lien-search-262720.firebaseapp.com",databaseURL:"https://lien-search-262720.firebaseio.com",projectId:"lien-search-262720",storageBucket:"lien-search-262720.appspot.com",messagingSenderId:"45974338820",appId:"1:45974338820:web:762f88d7c893541b0ce451"});var pn=a(193),fn=a(265),En=a(138),bn=a.n(En);function vn(e){return u.a.createElement(pn.a,Object.assign({},e,{direction:"up",timeout:400}))}var gn=function(e){var t=e.message,a=e.setMessage,n=e.messageType,r=void 0===n?"error":n,c=hn(),i=Object(s.useState)(!!t),l=Object(b.a)(i,2),o=l[0],m=l[1],d=Object(s.useRef)(0);Object(s.useEffect)((function(){return function(){return window.clearTimeout(d.current)}}),[]);var p=function(){window.clearTimeout(d.current),m(!1),d.current=window.setTimeout((function(){return a("")}),400)};return Object(s.useEffect)((function(){m(!!t)}),[t]),u.a.createElement(fn.a,{open:o,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:6e3,ContentProps:{className:"error"===r?c.error:c.success},TransitionComponent:vn,message:u.a.createElement("div",{className:c.message},"error"===r&&u.a.createElement(bn.a,{className:c.icon}),"success"===r&&u.a.createElement(Ge.a,{className:c.icon}),t),action:[u.a.createElement(z.a,{key:"close","aria-label":"close",color:"inherit",onClick:p},u.a.createElement(ue.a,null))]})},hn=Object(S.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},success:{backgroundColor:"green"},message:{display:"flex",alignItems:"center"},icon:{marginRight:e.spacing(1)}}})),yn=Object(g.a)(),On=Object(h.a)({palette:{primary:{main:"#fff200"},secondary:{main:"#e32c2c"}},typography:{fontFamily:"Roboto",fontSize:12,subtitle1:{fontWeight:"bold"},h5:{fontWeight:600}},spacing:6,overrides:{MuiButton:{root:{height:40}},MuiDivider:{root:{}},MuiFormLabel:{focused:{borderColor:"black"},root:{"&$focused":{color:"black"}}},MuiTextField:{root:{"&.Mui-focused fieldset":{borderColor:"green"}}},MuiOutlinedInput:{root:{"&$focused":{borderColor:"black"}}}}}),jn=function(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!0),c=Object(b.a)(r,2),i=c[0],l=c[1],o=Object(s.useState)("error"),m=Object(b.a)(o,2),d=m[0],p=m[1],g=Object(s.useState)(""),h=Object(b.a)(g,2),O=h[0],j=h[1],C=N.a.firestore();return Object(s.useEffect)((function(){N.a.auth().onAuthStateChanged(function(){var e=Object(E.a)(f.a.mark((function e(t){var a,r,c,i,o,s,u,m,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=26;break}return e.prev=1,e.next=4,t.getIdTokenResult();case 4:if(!(m=e.sent).claims.admin){e.next=11;break}return e.next=8,C.collection("employees").doc(t.uid).get();case 8:d=e.sent,e.next=14;break;case 11:return e.next=13,C.collection("users").doc(t.uid).get();case 13:d=e.sent;case 14:d.exists&&(p=d.data()),n({admin:null!==(a=m.claims.admin)&&void 0!==a&&a,orgId:null!==(r=null===(c=p)||void 0===c?void 0:c.orgId)&&void 0!==r?r:"",name:null!==(i=null===(o=p)||void 0===o?void 0:o.name)&&void 0!==i?i:"",phoneNumber:null!==(s=null===(u=p)||void 0===u?void 0:u.phoneNumber)&&void 0!==s?s:"",email:t.email||"",uid:t.uid||""}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:return e.prev=21,l(!1),e.finish(21);case 24:e.next=28;break;case 26:n(null),l(!1);case 28:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(t){return e.apply(this,arguments)}}())}),[C]),i?u.a.createElement(u.a.Fragment,null):u.a.createElement(y.a,{theme:On},u.a.createElement(P.Provider,{value:a},u.a.createElement(ka.Provider,{value:{setMessage:j,setMessageType:p}},u.a.createElement(gn,Object.assign({message:O},{setMessage:j},{messageType:d})),u.a.createElement(v.c,{history:yn},u.a.createElement(v.d,null,u.a.createElement(dn,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(u.a.createElement(jn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.register("../firebase-messaging-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)})).catch((function(e){console.log("Service worker registration failed, error:",e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[165,1,2]]]);
//# sourceMappingURL=main.f72afc7c.chunk.js.map